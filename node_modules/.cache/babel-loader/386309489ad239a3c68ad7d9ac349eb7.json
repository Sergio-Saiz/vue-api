{"remainingRequest":"/home/sergio/code/login-vuejs/node_modules/babel-loader/lib/index.js!/home/sergio/code/login-vuejs/src/store/index.js","dependencies":[{"path":"/home/sergio/code/login-vuejs/src/store/index.js","mtime":1662869570697},{"path":"/home/sergio/code/login-vuejs/node_modules/cache-loader/dist/cjs.js","mtime":1662705389539},{"path":"/home/sergio/code/login-vuejs/node_modules/babel-loader/lib/index.js","mtime":1662705389914}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9ob21lL3Nlcmdpby9jb2RlL2xvZ2luLXZ1ZWpzL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc3BsaXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmpvaW4uanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zbGljZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC50by1zdHJpbmcuanMiOwppbXBvcnQgVnVlIGZyb20gJ3Z1ZSc7CmltcG9ydCBWdWV4IGZyb20gJ3Z1ZXgnOwppbXBvcnQgcm91dGVyIGZyb20gJy4uL3JvdXRlcic7ClZ1ZS51c2UoVnVleCk7CmV4cG9ydCBkZWZhdWx0IG5ldyBWdWV4LlN0b3JlKHsKICBzdGF0ZTogewogICAgdG9rZW46IG51bGwsCiAgICB1c2VybmFtZTogbnVsbCwKICAgIHVzZXJJZDogbnVsbAogIH0sCiAgbXV0YXRpb25zOiB7CiAgICBzZXRUb2tlbjogZnVuY3Rpb24gc2V0VG9rZW4oc3RhdGUsIHBheWxvYWQpIHsKICAgICAgc3RhdGUudG9rZW4gPSBwYXlsb2FkOwogICAgfSwKICAgIHNldFVzZXJJZDogZnVuY3Rpb24gc2V0VXNlcklkKHN0YXRlLCBwYXlsb2FkKSB7CiAgICAgIHN0YXRlLnVzZXJJZCA9IHBheWxvYWQ7CiAgICB9LAogICAgc2V0VXNlcm5hbWU6IGZ1bmN0aW9uIHNldFVzZXJuYW1lKHN0YXRlLCBwYXlsb2FkKSB7CiAgICAgIHN0YXRlLnVzZXJuYW1lID0gcGF5bG9hZDsKICAgIH0sCiAgICBsb2dvdXQ6IGZ1bmN0aW9uIGxvZ291dCgpIHsKICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ3Rva2VuJyk7CiAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCd1c2VySWQnKTsKICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ3VzZXJuYW1lJyk7CiAgICAgIGxvY2F0aW9uLmhyZWYgPSAnLyc7CiAgICB9CiAgfSwKICBhY3Rpb25zOiB7CiAgICBsb2dpbjogZnVuY3Rpb24gbG9naW4oX3JlZiwgdXNlcikgewogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciBjb21taXQsIHJlcywgdXNlckRCLCBiYXNlNjRVcmwsIGJhc2U2NCwganNvblBheWxvYWQsIHRva2VuUGF5bG9hZDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBjb21taXQgPSBfcmVmLmNvbW1pdDsKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAxOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICByZXR1cm4gZmV0Y2goJ2h0dHA6Ly9sb2NhbGhvc3Q6MjUwL2FwaS92MS91c2Vycy9sb2dpbl9jaGVjaycsIHsKICAgICAgICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsCiAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nCiAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHVzZXIpCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgcmVzID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA3OwogICAgICAgICAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgIHVzZXJEQiA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICBjb21taXQoJ3NldFRva2VuJywgdXNlckRCLnRva2VuKTsKICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd0b2tlbicsIHVzZXJEQi50b2tlbik7CiAgICAgICAgICAgICAgICBiYXNlNjRVcmwgPSB1c2VyREIudG9rZW4uc3BsaXQoJy4nKVsxXTsKICAgICAgICAgICAgICAgIGJhc2U2NCA9IGJhc2U2NFVybC5yZXBsYWNlKC8tL2csICcrJykucmVwbGFjZSgvXy9nLCAnLycpOwogICAgICAgICAgICAgICAganNvblBheWxvYWQgPSBkZWNvZGVVUklDb21wb25lbnQod2luZG93LmF0b2IoYmFzZTY0KS5zcGxpdCgnJykubWFwKGZ1bmN0aW9uIChjKSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiAnJScgKyAoJzAwJyArIGMuY2hhckNvZGVBdCgwKS50b1N0cmluZygxNikpLnNsaWNlKC0yKTsKICAgICAgICAgICAgICAgIH0pLmpvaW4oJycpKTsKICAgICAgICAgICAgICAgIHRva2VuUGF5bG9hZCA9IEpTT04ucGFyc2UoanNvblBheWxvYWQpOyAvLyBjb21taXQoJ3NldFVzZXInLCB7aWQ6IHRva2VuUGF5bG9hZC5pZCwgdXNlcm5hbWU6IHRva2VuUGF5bG9hZC51c2VybmFtZX0pCiAgICAgICAgICAgICAgICAvLyBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndXNlcicsIHtpZDogdG9rZW5QYXlsb2FkLmlkLCB1c2VybmFtZTogdG9rZW5QYXlsb2FkLnVzZXJuYW1lfSkKCiAgICAgICAgICAgICAgICBjb21taXQoJ3NldFVzZXJuYW1lJywgdG9rZW5QYXlsb2FkLnVzZXJuYW1lKTsKICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd1c2VybmFtZScsIHRva2VuUGF5bG9hZC51c2VybmFtZSk7CiAgICAgICAgICAgICAgICBjb21taXQoJ3NldFVzZXJJZCcsIHRva2VuUGF5bG9hZC5pZCk7CiAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndXNlcklkJywgdG9rZW5QYXlsb2FkLmlkKTsKICAgICAgICAgICAgICAgIHJvdXRlci5wdXNoKCdVc2VyJyk7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjQ7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAyMToKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAyMTsKICAgICAgICAgICAgICAgIF9jb250ZXh0LnQwID0gX2NvbnRleHRbImNhdGNoIl0oMSk7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnRXJyb3I6ICcsIF9jb250ZXh0LnQwKTsKCiAgICAgICAgICAgICAgY2FzZSAyNDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUsIG51bGwsIFtbMSwgMjFdXSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIHJlZ2lzdGVyOiBmdW5jdGlvbiByZWdpc3RlcihfcmVmMiwgdXNlcikgewogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICB2YXIgY29tbWl0LCByZXMsIHVzZXJEQjsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgY29tbWl0ID0gX3JlZjIuY29tbWl0OwogICAgICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSAxOwogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA0OwogICAgICAgICAgICAgICAgcmV0dXJuIGZldGNoKCdodHRwOi8vbG9jYWxob3N0OjI1MC9hcGkvdjEvdXNlcnMvcmVnaXN0ZXInLCB7CiAgICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLAogICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJwogICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh1c2VyKQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0Mi5zZW50OwogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA3OwogICAgICAgICAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgIHVzZXJEQiA9IF9jb250ZXh0Mi5zZW50OwogICAgICAgICAgICAgICAgcm91dGVyLnB1c2goJ0xvZ2luJyk7CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDE0OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgICBfY29udGV4dDIucHJldiA9IDExOwogICAgICAgICAgICAgICAgX2NvbnRleHQyLnQwID0gX2NvbnRleHQyWyJjYXRjaCJdKDEpOwogICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0Vycm9yOiAnLCBfY29udGV4dDIudDApOwoKICAgICAgICAgICAgICBjYXNlIDE0OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyLCBudWxsLCBbWzEsIDExXV0pOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBnZXRUb2tlbjogZnVuY3Rpb24gZ2V0VG9rZW4oX3JlZjMpIHsKICAgICAgdmFyIGNvbW1pdCA9IF9yZWYzLmNvbW1pdDsKCiAgICAgIGlmIChsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndG9rZW4nKSkgewogICAgICAgIGNvbW1pdCgnc2V0VG9rZW4nLCBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndG9rZW4nKSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgY29tbWl0KCdzZXRUb2tlbicsIG51bGwpOwogICAgICB9CiAgICB9LAogICAgZ2V0VXNlcklkOiBmdW5jdGlvbiBnZXRVc2VySWQoX3JlZjQpIHsKICAgICAgdmFyIGNvbW1pdCA9IF9yZWY0LmNvbW1pdDsKCiAgICAgIGlmIChsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndXNlcklkJykpIHsKICAgICAgICBjb21taXQoJ3NldFVzZXJJZCcsIGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1c2VySWQnKSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgY29tbWl0KCdzZXRVc2VySWQnLCBudWxsKTsKICAgICAgfQogICAgfSwKICAgIGdldFVzZXJuYW1lOiBmdW5jdGlvbiBnZXRVc2VybmFtZShfcmVmNSkgewogICAgICB2YXIgY29tbWl0ID0gX3JlZjUuY29tbWl0OwoKICAgICAgaWYgKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1c2VybmFtZScpKSB7CiAgICAgICAgY29tbWl0KCdzZXRVc2VybmFtZScsIGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1c2VybmFtZScpKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBjb21taXQoJ3NldFVzZXJuYW1lJywgbnVsbCk7CiAgICAgIH0KICAgIH0sCiAgICBsb2dvdXQ6IGZ1bmN0aW9uIGxvZ291dChfcmVmNikgewogICAgICB2YXIgY29tbWl0ID0gX3JlZjYuY29tbWl0OwogICAgICBjb21taXQoJ2xvZ291dCcpOwogICAgfSwKICAgIHJlcXVlc3RSZXNldFBhc3N3b3JkOiBmdW5jdGlvbiByZXF1ZXN0UmVzZXRQYXNzd29yZChfcmVmNywgZW1haWwpIHsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoKSB7CiAgICAgICAgdmFyIGNvbW1pdCwgcmVzLCB1c2VyREI7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGNvbW1pdCA9IF9yZWY3LmNvbW1pdDsKICAgICAgICAgICAgICAgIF9jb250ZXh0My5wcmV2ID0gMTsKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gNDsKICAgICAgICAgICAgICAgIHJldHVybiBmZXRjaCgnaHR0cDovL2xvY2FsaG9zdDoyNTAvYXBpL3YxL3VzZXJzL3JlcXVlc3RfcmVzZXRfcGFzc3dvcmQnLCB7CiAgICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLAogICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJwogICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShlbWFpbCkKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICByZXMgPSBfY29udGV4dDMuc2VudDsKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gNzsKICAgICAgICAgICAgICAgIHJldHVybiByZXMuanNvbigpOwoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICB1c2VyREIgPSBfY29udGV4dDMuc2VudDsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHVzZXJEQik7CiAgICAgICAgICAgICAgICByb3V0ZXIucHVzaCgnSG9tZScpOwogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAxNTsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICAgICAgX2NvbnRleHQzLnByZXYgPSAxMjsKICAgICAgICAgICAgICAgIF9jb250ZXh0My50MCA9IF9jb250ZXh0M1siY2F0Y2giXSgxKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdFcnJvcjogJywgX2NvbnRleHQzLnQwKTsKCiAgICAgICAgICAgICAgY2FzZSAxNToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMywgbnVsbCwgW1sxLCAxMl1dKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgcmVzZW5kQWN0aXZhdGlvbkVtYWlsOiBmdW5jdGlvbiByZXNlbmRBY3RpdmF0aW9uRW1haWwoX3JlZjgsIGVtYWlsKSB7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU0KCkgewogICAgICAgIHZhciBjb21taXQsIHJlcywgdXNlckRCOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNCQoX2NvbnRleHQ0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NC5wcmV2ID0gX2NvbnRleHQ0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBjb21taXQgPSBfcmVmOC5jb21taXQ7CiAgICAgICAgICAgICAgICBfY29udGV4dDQucHJldiA9IDE7CiAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICByZXR1cm4gZmV0Y2goJ2h0dHA6Ly9sb2NhbGhvc3Q6MjUwL2FwaS92MS91c2Vycy9yZXNlbmRfYWN0aXZhdGlvbl9lbWFpbCcsIHsKICAgICAgICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsCiAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nCiAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGVtYWlsKQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0NC5zZW50OwogICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSA3OwogICAgICAgICAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgIHVzZXJEQiA9IF9jb250ZXh0NC5zZW50OwogICAgICAgICAgICAgICAgY29uc29sZS5sb2codXNlckRCKTsKICAgICAgICAgICAgICAgIHJvdXRlci5wdXNoKCdIb21lJyk7CiAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDE1OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgICAgICBfY29udGV4dDQucHJldiA9IDEyOwogICAgICAgICAgICAgICAgX2NvbnRleHQ0LnQwID0gX2NvbnRleHQ0WyJjYXRjaCJdKDEpOwogICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0Vycm9yOiAnLCBfY29udGV4dDQudDApOwoKICAgICAgICAgICAgICBjYXNlIDE1OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU0LCBudWxsLCBbWzEsIDEyXV0pOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBhY3RpdmF0ZUFjY291bnQ6IGZ1bmN0aW9uIGFjdGl2YXRlQWNjb3VudChfcmVmOSwgdXNlcikgewogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNSgpIHsKICAgICAgICB2YXIgY29tbWl0LCByZXMsIHVzZXJEQjsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTUkKF9jb250ZXh0NSkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDUucHJldiA9IF9jb250ZXh0NS5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgY29tbWl0ID0gX3JlZjkuY29tbWl0OwogICAgICAgICAgICAgICAgX2NvbnRleHQ1LnByZXYgPSAxOwogICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSA0OwogICAgICAgICAgICAgICAgcmV0dXJuIGZldGNoKCdodHRwOi8vbG9jYWxob3N0OjI1MC9hcGkvdjEvdXNlcnMvJyArIHVzZXIuaWQgKyAnL2FjdGl2YXRlJywgewogICAgICAgICAgICAgICAgICBtZXRob2Q6ICdQVVQnLAogICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyAvLyAnQXV0aG9yaXphdGlvbic6ICdCZWFyZXIgJyArIHRoaXMuc3RhdGUudG9rZW4gCgogICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7CiAgICAgICAgICAgICAgICAgICAgdG9rZW46IHVzZXIudG9rZW4KICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICByZXMgPSBfY29udGV4dDUuc2VudDsKICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gNzsKICAgICAgICAgICAgICAgIHJldHVybiByZXMuanNvbigpOwoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICB1c2VyREIgPSBfY29udGV4dDUuc2VudDsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHVzZXJEQik7CiAgICAgICAgICAgICAgICByb3V0ZXIucHVzaCgnVXNlcicpOwogICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSAxNTsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICAgICAgX2NvbnRleHQ1LnByZXYgPSAxMjsKICAgICAgICAgICAgICAgIF9jb250ZXh0NS50MCA9IF9jb250ZXh0NVsiY2F0Y2giXSgxKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdFcnJvcjogJywgX2NvbnRleHQ1LnQwKTsKCiAgICAgICAgICAgICAgY2FzZSAxNToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NS5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNSwgbnVsbCwgW1sxLCAxMl1dKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgcmVzZXRQYXNzd29yZDogZnVuY3Rpb24gcmVzZXRQYXNzd29yZChfcmVmMTAsIHVzZXIpIHsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTYoKSB7CiAgICAgICAgdmFyIGNvbW1pdCwgcmVzLCB1c2VyREI7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU2JChfY29udGV4dDYpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ2LnByZXYgPSBfY29udGV4dDYubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGNvbW1pdCA9IF9yZWYxMC5jb21taXQ7CiAgICAgICAgICAgICAgICBfY29udGV4dDYucHJldiA9IDE7CiAgICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICByZXR1cm4gZmV0Y2goJ2h0dHA6Ly9sb2NhbGhvc3Q6MjUwL2FwaS92MS91c2Vycy8nICsgdXNlci5pZCArICcvcmVzZXRfcGFzc3dvcmQnLCB7CiAgICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BVVCcsCiAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIC8vICAnQXV0aG9yaXphdGlvbic6ICdCZWFyZXIgJyArIHRoaXMuc3RhdGUudG9rZW4gCgogICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh1c2VyKQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0Ni5zZW50OwogICAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSA3OwogICAgICAgICAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgIHVzZXJEQiA9IF9jb250ZXh0Ni5zZW50OwogICAgICAgICAgICAgICAgY29uc29sZS5sb2codXNlckRCKTsKICAgICAgICAgICAgICAgIHJvdXRlci5wdXNoKCdVc2VyJyk7CiAgICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDE1OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgICAgICBfY29udGV4dDYucHJldiA9IDEyOwogICAgICAgICAgICAgICAgX2NvbnRleHQ2LnQwID0gX2NvbnRleHQ2WyJjYXRjaCJdKDEpOwogICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0Vycm9yOiAnLCBfY29udGV4dDYudDApOwoKICAgICAgICAgICAgICBjYXNlIDE1OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU2LCBudWxsLCBbWzEsIDEyXV0pOwogICAgICB9KSkoKTsKICAgIH0KICB9LAogIG1vZHVsZXM6IHt9Cn0pOw=="},{"version":3,"sources":["/home/sergio/code/login-vuejs/src/store/index.js"],"names":["Vue","Vuex","router","use","Store","state","token","username","userId","mutations","setToken","payload","setUserId","setUsername","logout","localStorage","removeItem","location","href","actions","login","user","commit","fetch","method","headers","body","JSON","stringify","res","json","userDB","setItem","base64Url","split","base64","replace","jsonPayload","decodeURIComponent","window","atob","map","c","charCodeAt","toString","slice","join","tokenPayload","parse","id","push","console","log","register","getToken","getItem","getUserId","getUsername","requestResetPassword","email","resendActivationEmail","activateAccount","resetPassword","modules"],"mappings":"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","sourcesContent":["import Vue from 'vue'\nimport Vuex from 'vuex'\nimport router from '../router'\n\nVue.use(Vuex)\n\nexport default new Vuex.Store({\n  state: {\n    token: null,\n    username: null,\n    userId: null,\n  },\n  mutations: {\n    setToken(state, payload) {\n      state.token = payload\n    },\n    setUserId(state, payload) {\n      state.userId = payload\n    },\n    setUsername(state, payload) {\n      state.username = payload\n    },\n    logout() {\n      localStorage.removeItem('token')\n      localStorage.removeItem('userId')\n      localStorage.removeItem('username')\n      location.href='/'\n    },\n  },\n  actions: {\n    async login({ commit }, user) {\n      try {\n        const res = await fetch('http://localhost:250/api/v1/users/login_check', {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json',\n          },\n          body: JSON.stringify(user)\n        })\n        const userDB = await res.json()\n        commit('setToken', userDB.token)\n        localStorage.setItem('token', userDB.token)\n\n        var base64Url = userDB.token.split('.')[1];\n        var base64 = base64Url.replace(/-/g, '+').replace(/_/g, '/');\n        var jsonPayload = decodeURIComponent(window.atob(base64).split('').map(function(c) {\n            return '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2);\n        }).join(''));\n    \n        const tokenPayload = JSON.parse(jsonPayload)\n        // commit('setUser', {id: tokenPayload.id, username: tokenPayload.username})\n        // localStorage.setItem('user', {id: tokenPayload.id, username: tokenPayload.username})\n        commit('setUsername', tokenPayload.username)\n        localStorage.setItem('username', tokenPayload.username)\n        commit('setUserId', tokenPayload.id)\n        localStorage.setItem('userId', tokenPayload.id)\n\n        router.push('User');\n         \n      } catch (error) {\n        console.log('Error: ', error)\n      }\n      \n    },\n    async register({ commit },  user ) {\n      try {\n        const res = await fetch('http://localhost:250/api/v1/users/register', {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json',\n          },  \n          body: JSON.stringify(user)\n        })\n        const userDB = await res.json()\n        router.push('Login');\n      } catch (error) {\n        console.log('Error: ', error)\n      }\n    },\n    getToken({commit}) {\n      if(localStorage.getItem('token')) {\n        commit('setToken', localStorage.getItem('token'))\n      } else {\n        commit('setToken', null)\n      }\n    },\n    getUserId({commit}) {\n      if(localStorage.getItem('userId')) {\n        commit('setUserId', localStorage.getItem('userId'))\n      } else {\n        commit('setUserId', null)\n      }\n    },\n    getUsername({commit}) {\n      if(localStorage.getItem('username')) {\n        commit('setUsername', localStorage.getItem('username'))\n      } else {\n        commit('setUsername', null)\n      }\n    },\n    logout ({ commit }) {\n      commit('logout')\n    },\n\n\n    async requestResetPassword({commit}, email ) {\n      try {\n        const res = await fetch('http://localhost:250/api/v1/users/request_reset_password', {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json',\n          },  \n          body: JSON.stringify(email)\n        })\n        const userDB = await res.json()\n        console.log(userDB)\n        router.push('Home');\n      } catch (error) {\n        console.log('Error: ', error)\n      }\n    },\n\n    async resendActivationEmail({commit}, email ) {\n      try {\n        const res = await fetch('http://localhost:250/api/v1/users/resend_activation_email', {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json',\n          },  \n          body: JSON.stringify(email)\n        })\n        const userDB = await res.json()\n        console.log(userDB)\n        router.push('Home');\n      } catch (error) {\n        console.log('Error: ', error)\n      }\n    },\n\n    async activateAccount({ commit }, user ) {\n      try {\n        const res = await fetch('http://localhost:250/api/v1/users/' + user.id + '/activate', {\n          method: 'PUT',\n          headers: {\n            'Content-Type': 'application/json',\n           // 'Authorization': 'Bearer ' + this.state.token \n          },  \n          body: JSON.stringify({token: user.token})\n        })\n        const userDB = await res.json()\n        console.log(userDB)\n        router.push('User');\n      } catch (error) {\n        console.log('Error: ', error)\n      }\n      \n    },\n\n    async resetPassword({ commit }, user ) {\n      try {\n        const res = await fetch('http://localhost:250/api/v1/users/' + user.id + '/reset_password', {\n          method: 'PUT',\n          headers: {\n            'Content-Type': 'application/json',\n          //  'Authorization': 'Bearer ' + this.state.token \n          },  \n          body: JSON.stringify(user)\n        })\n        const userDB = await res.json()\n        console.log(userDB)\n        router.push('User');\n      } catch (error) {\n        console.log('Error: ', error)\n      }\n\n    },\n  \n  },\n  modules: {\n  }\n})\n"]}]}