{"remainingRequest":"/home/sergio/code/login-vuejs/node_modules/babel-loader/lib/index.js!/home/sergio/code/login-vuejs/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/sergio/code/login-vuejs/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/sergio/code/login-vuejs/src/views/User.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/sergio/code/login-vuejs/src/views/User.vue","mtime":1662852737014},{"path":"/home/sergio/code/login-vuejs/node_modules/cache-loader/dist/cjs.js","mtime":1662705389539},{"path":"/home/sergio/code/login-vuejs/node_modules/babel-loader/lib/index.js","mtime":1662705389914},{"path":"/home/sergio/code/login-vuejs/node_modules/cache-loader/dist/cjs.js","mtime":1662705389539},{"path":"/home/sergio/code/login-vuejs/node_modules/vue-loader/lib/index.js","mtime":1662705380680}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL2hvbWUvc2VyZ2lvL2NvZGUvbG9naW4tdnVlanMvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgbWFwU3RhdGUsIG1hcEFjdGlvbnMgfSBmcm9tICd2dWV4JzsKaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKaW1wb3J0IFZ1ZVJvdXRlciBmcm9tICd2dWUtcm91dGVyJzsKZXhwb3J0IGRlZmF1bHQgewogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIGF4aW9zLmdldCgnaHR0cDovL2xvY2FsaG9zdDoyNTAvYXBpL3YxL3VzZXJzLycgKyB0aGlzLnVzZXJJZCwgewogICAgICBoZWFkZXJzOiB7CiAgICAgICAgJ0F1dGhvcml6YXRpb24nOiAiQmVhcmVyICIuY29uY2F0KHRoaXMudG9rZW4pCiAgICAgIH0KICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICBfdGhpcy51c2VyID0gcmVzLmRhdGE7CiAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7CiAgICB9KTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7Ly8gIHRoaXMuZGFzaGJvYXJkKHRoaXMudG9rZW4pCiAgfSwKICBjb21wdXRlZDogX29iamVjdFNwcmVhZCh7fSwgbWFwU3RhdGUoWyd0b2tlbicsICd1c2VybmFtZScsICd1c2VySWQnXSkpLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB1c2VyOiB7fSwKICAgICAgdXNlckNhdGVnb3JpZXM6IHt9LAogICAgICBvbGRQYXNzd29yZDogbnVsbCwKICAgICAgbmV3UGFzc3dvcmQ6IG51bGwKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICAvLyAuLi5tYXBBY3Rpb25zKFsnZGFzaGJvYXJkJ10pCiAgICB1cGRhdGVVc2VyOiBmdW5jdGlvbiB1cGRhdGVVc2VyKHVzZXIpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICBheGlvcyh7CiAgICAgICAgbWV0aG9kOiAncHV0JywKICAgICAgICB1cmw6ICdodHRwOi8vbG9jYWxob3N0OjI1MC9hcGkvdjEvdXNlcnMvJyArIHRoaXMudXNlcklkLAogICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICdBdXRob3JpemF0aW9uJzogIkJlYXJlciAiLmNvbmNhdCh0aGlzLnRva2VuKQogICAgICAgIH0sCiAgICAgICAgZGF0YTogewogICAgICAgICAgbmFtZTogdGhpcy51c2VyLm5hbWUKICAgICAgICB9CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIGNvbnNvbGUubG9nKHJlcy5kYXRhKTsKICAgICAgICBfdGhpczIudXNlciA9IHJlcy5kYXRhOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTsKICAgICAgfSk7CiAgICB9LAogICAgdXBkYXRlUGFzc3dvcmQ6IGZ1bmN0aW9uIHVwZGF0ZVBhc3N3b3JkKG9sZFBhc3N3b3JkLCBuZXdQYXNzd29yZCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIGF4aW9zKHsKICAgICAgICBtZXRob2Q6ICdwdXQnLAogICAgICAgIHVybDogJ2h0dHA6Ly9sb2NhbGhvc3Q6MjUwL2FwaS92MS91c2Vycy8nICsgdGhpcy51c2VySWQgKyAnL2NoYW5nZV9wYXNzd29yZCcsCiAgICAgICAgaGVhZGVyczogewogICAgICAgICAgJ0F1dGhvcml6YXRpb24nOiAiQmVhcmVyICIuY29uY2F0KHRoaXMudG9rZW4pCiAgICAgICAgfSwKICAgICAgICBkYXRhOiB7CiAgICAgICAgICBvbGRQYXNzd29yZDogdGhpcy5vbGRQYXNzd29yZCwKICAgICAgICAgIG5ld1Bhc3N3b3JkOiB0aGlzLm5ld1Bhc3N3b3JkCiAgICAgICAgfQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBjb25zb2xlLmxvZyhyZXMuZGF0YSk7CiAgICAgICAgX3RoaXMzLm9sZFBhc3N3b3JkID0gbnVsbDsKICAgICAgICBfdGhpczMubmV3UGFzc3dvcmQgPSBudWxsOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTsKICAgICAgfSk7CiAgICB9LAogICAgZGVsZXRlVXNlcjogZnVuY3Rpb24gZGVsZXRlVXNlcigpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICBheGlvcyh7CiAgICAgICAgbWV0aG9kOiAnZGVsZXRlJywKICAgICAgICB1cmw6ICdodHRwOi8vbG9jYWxob3N0OjI1MC9hcGkvdjEvdXNlcnMvJyArIHRoaXMudXNlcklkLAogICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICdBdXRob3JpemF0aW9uJzogIkJlYXJlciAiLmNvbmNhdCh0aGlzLnRva2VuKQogICAgICAgIH0KICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXM0LiRzdG9yZS5kaXNwYXRjaCgnbG9nb3V0Jyk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpOwogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["User.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"row\">\n    <div class=\"col-12\">\n      <h1>Avatar</h1>\n      <form @submit.prevent=\"updateUser(user), logout()\">\n          Nombre: <input style=\"border: 0\" type=\"text\" placeholder=\"Ingrese Username\" v-model=\"user.name\">\n          <button type=\"submit\">Actualizar</button>\n      </form>\n      <p></p>\n      <p>{{user.email}}</p>\n      <p>{{user.name}}</p>\n      \n      \n      <form @submit.prevent=\"updatePassword(user)\">\n          oldPassword: <input style=\"border: 0\" type=\"text\" placeholder=\"oldPassword\" v-model=\"oldPassword\">\n          newPassword: <input style=\"border: 0\" type=\"text\" placeholder=\"newPassword\" v-model=\"newPassword\">\n          <button type=\"submit\">Cambiar contraseña</button>\n      </form>\n      <p></p>\n      <form @submit.prevent=\"deleteUser()\">\n          ¿Quieres eliminar al usuario? <button type=\"submit\">Eliminar usuario</button>\n      </form>\n      <p></p>\n      <h3>Notificaciones</h3>\n    </div>\n  </div>\n</template>\n<script>\nimport {mapState, mapActions} from 'vuex'\nimport axios from 'axios';\nimport VueRouter from 'vue-router'\nexport default {\n  mounted () {\n    axios.get('http://localhost:250/api/v1/users/' + this.userId, {\n      headers: {\n        'Authorization': `Bearer ${this.token}`\n      }\n    })\n    .then((res) => {\n      this.user = res.data\n    })\n    .catch((error) => {\n      console.error(error)\n    })\n\n  },\n  created(){\n  //  this.dashboard(this.token)\n  },\n  computed: {\n    ...mapState(['token', 'username', 'userId'])\n  },\n  data() {\n    return {\n        user: {},\n        userCategories: {},\n        oldPassword: null,\n        newPassword: null,\n    }\n  },\n  methods: {\n   // ...mapActions(['dashboard'])\n    updateUser(user) {\n      axios({\n        method: 'put',\n        url: 'http://localhost:250/api/v1/users/' + this.userId,\n        headers: {\n                'Authorization': `Bearer ${this.token}`\n                },\n        data: {\n          name: this.user.name,\n        }\n      })\n      .then((res) => {\n        console.log(res.data)\n        this.user = res.data\n      })\n      .catch((error) => {\n        console.error(error)\n      })\n    },\n\n    updatePassword(oldPassword, newPassword) {\n      axios({\n        method: 'put',\n        url: 'http://localhost:250/api/v1/users/' + this.userId + '/change_password',\n        headers: {\n                'Authorization': `Bearer ${this.token}`\n                },\n        data: {\n          oldPassword: this.oldPassword,\n          newPassword: this.newPassword,\n        }\n      })\n      .then((res) => {\n        console.log(res.data)\n        this.oldPassword = null\n        this.newPassword = null\n      })\n      .catch((error) => {\n        console.error(error)\n      })\n    },\n\n    deleteUser() {\n      axios({\n        method: 'delete',\n        url: 'http://localhost:250/api/v1/users/' + this.userId,\n        headers: {\n                'Authorization': `Bearer ${this.token}`\n                }\n      })\n      .then((res) => {\n        this.$store.dispatch('logout')\n      })\n      .catch((error) => {\n        console.error(error)\n      })\n      \n\n    },\n\n  }\n}\n</script>"],"sourceRoot":"src/views"}]}